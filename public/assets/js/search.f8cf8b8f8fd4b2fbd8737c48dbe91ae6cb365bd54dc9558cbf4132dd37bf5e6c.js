(()=>{var d=[];fetch("/index.json").then(t=>t.json()).then(t=>{d=t});postsSearch=function(){let t=document.getElementById("search-input").value.trim(),r=document.getElementById("search-results");if(r.innerHTML="",t==="")return;let c=new RegExp(t,"gi");d.filter(e=>!(e.permalink.includes("/about")||e.permalink.includes("/search"))&&(c.test(e.title)||c.test(e.content))).forEach(e=>{let s=document.createElement("div");s.className="search-result";let o=document.createElement("h3"),l=document.createElement("a");l.href=e.permalink,l.textContent=e.title,o.appendChild(l),s.appendChild(o);let a=document.createElement("p"),n=e.content;if(c.test(e.title))n=n.substring(0,100);else{let i=n.match(new RegExp(`.{0,50}${t}.{0,50}`,"gi"));n=i?i[0]:""}n=n.replace(c,"<strong>$&</strong>"),a.innerHTML=n,s.appendChild(a),r.appendChild(s)})};})();
